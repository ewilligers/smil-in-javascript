<!DOCTYPE html>
<html>
  <body>
    <script src="../../web-animations.js"></script>
    <script src="../../smil-in-javascript.js"></script>
    <!-- <script src="../harness.js"></script>
    <script src="begin-end-element-check.js"></script> -->

    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" height="500">
      <rect id="polyfillFirstRect" x="10" y="10" width="100" height="100" fill="green" opacity="0.5"/>
      <rect id="polyfillSecondRect" x="120" y="10" width="100" height="100" fill="green" opacity="0.5"/>

      <animateMotion id="polyfillFirstAnim" xlink:href="#polyfillFirstRect" additive="sum" calcMode="linear" path="M 0 0 L 0 400" dur="5s" begin="indefinite" end="indefinite" fill="freeze"/>
      <animateMotion id="polyfillSecondAnim" xlink:href="#polyfillSecondRect" additive="sum" calcMode="linear" path="M 0 0 L 0 400" dur="5s" begin="indefinite" end="indefinite" fill="freeze"/>

      <rect id="nativeFirstRect" x="10" y="10" width="100" height="100" fill="red" opacity="0.5"/>
      <rect id="nativeSecondRect" x="120" y="10" width="100" height="100" fill="red" opacity="0.5"/>

      <nativeAnimateMotion id="nativeFirstAnim" xlink:href="#nativeFirstRect" additive="sum" calcMode="linear" path="M 0 0 L 0 400" dur="5s" begin="indefinite" end="indefinite" fill="freeze"/>
      <nativeAnimateMotion id="nativeSecondAnim" xlink:href="#nativeSecondRect" additive="sum" calcMode="linear" path="M 0 0 L 0 400" dur="5s" begin="indefinite" end="indefinite" fill="freeze"/>
    <script>
      'use strict';
      var polyfillFirstRect = document.getElementById('polyfillFirstRect');
      var nativeFirstRect = document.getElementById('nativeFirstRect');
      var polyfillSecondRect = document.getElementById('polyfillSecondRect');
      var nativeSecondRect = document.getElementById('nativeSecondRect');

      setTimeout(function() {
        polyfillFirstAnim.beginElement();
        nativeFirstAnim.beginElement();
        polyfillSecondAnim.beginElementAt(1);
        nativeSecondAnim.beginElementAt(1);
        polyfillFirstAnim.beginElementAt(2);
        nativeFirstAnim.beginElementAt(2);
      }, 1000);

      setTimeout(function() {
        polyfillFirstAnim.endElement();
        nativeFirstAnim.endElement();
        polyfillSecondAnim.endElementAt(1);
        nativeSecondAnim.endElementAt(1);
        polyfillFirstAnim.endElementAt(2);
        nativeFirstAnim.endElementAt(2);
      }, 3500);

    </script>

    </svg>

  </body>
</html>
